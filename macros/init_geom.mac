###############################################################################
####### P-OM geometry macro ###################################################
###############################################################################

##  HOWTO:
##
##  import gdml files with 
##  /geometry/gdml/File path/to/file
##  make sure the file fulfills the requirements in README.md
##
##  submerge the geometry in water with
##  /geometry/gdml/submerge <true/false>
##  for this, a suitable method depending on the geometry has to exist in OMConstruction::submerge()
##
##  set a solid reflector around the gelpad with
##  /geometry/gdml/solidReflector <true/false>
##  This is implemented for proof of concept/validation reasons and is not part of the final P-OM design.
##
##  set rotational center of optical units (i.e. the center of each hemisphere) with 
##  /geometry/PMT/SetOrigin x y z
##
##  set reference coordiante unit vectors for the optical unit placement
##  /geometry/PMT/SetRefX X Y Z
##  /geometry/PMT/SetRefY X Y Z
##
##  then place a optical_unit in this coordinate system with
##  /geometry/PMT/Place radius theta phi
##  where the radius sets the outer edge of the pmt

#######
# gdml settings
#######

# /geometry/gdml/file     geometry/P-OM_hemisphere_v11/mother.gdml
# /geometry/gdml/file     geometry/P-OM_module_v11/mother.gdml
# /geometry/gdml/file     geometry/P-OM_hemisphere_v13/mother.gdml
/geometry/gdml/file     geometry/P-OM_module_v13/mother.gdml

/geometry/gdml/submerge        true
/geometry/gdml/solidReflector  false


#######
# optical unit settings
#######

/geometry/PMT/PCTubeSize     3 mm
/geometry/PMT/GelRingOffset  0 mm

#######
# single pmt
#######

#/geometry/PMT/setOrigin   0 0 0
#/geometry/PMT/setRefX     1 0 0
#/geometry/PMT/setRefY     0 1 0

#/geometry/PMT/place 25 0 0


#######
# hemisphere 1
#######

/geometry/PMT/setOrigin  80 0 0
/geometry/PMT/setRefX     0 0 1
/geometry/PMT/setRefY     1 0 0

/geometry/PMT/place 199.90 32.5 0
/geometry/PMT/place 199.90 32.5 90
/geometry/PMT/place 199.90 32.5 180
/geometry/PMT/place 199.90 32.5 270

/geometry/PMT/place 199.90 65 45
/geometry/PMT/place 199.90 65 135
/geometry/PMT/place 199.90 65 225
/geometry/PMT/place 199.90 65 315


#######
# hemisphere 2
#######

/geometry/PMT/setOrigin -80 0  0
/geometry/PMT/setRefX     0 0 -1
/geometry/PMT/setRefY     1 0  0

/geometry/PMT/place 199.90 32.5 0
/geometry/PMT/place 199.90 32.5 90
/geometry/PMT/place 199.90 32.5 180
/geometry/PMT/place 199.90 32.5 270

/geometry/PMT/place 199.90 65 45
/geometry/PMT/place 199.90 65 135
/geometry/PMT/place 199.90 65 225
/geometry/PMT/place 199.90 65 315